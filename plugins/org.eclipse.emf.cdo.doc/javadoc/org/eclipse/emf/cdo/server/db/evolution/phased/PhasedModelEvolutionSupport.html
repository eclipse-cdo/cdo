<!DOCTYPE HTML>
<html lang="en">
<head>

<title>PhasedModelEvolutionSupport (CDO Model Repository Documentation)</title>
<meta name="viewport" content="">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="description" content="declaration: package: org.eclipse.emf.cdo.server.db.evolution.phased, class: PhasedModelEvolutionSupport">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PhasedModelEvolutionSupport.html">Use</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.emf.cdo.server.db.evolution.phased</a></div>
<h1 title="Class PhasedModelEvolutionSupport" class="title">Class PhasedModelEvolutionSupport</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.eclipse.net4j.util.event.Notifier
<div class="inheritance">org.eclipse.net4j.util.lifecycle.Lifecycle
<div class="inheritance">org.eclipse.emf.cdo.server.db.evolution.phased.PhasedModelEvolutionSupport</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></code>, <code>org.eclipse.net4j.util.event.INotifier</code>, <code>org.eclipse.net4j.util.event.INotifier.INotifier2</code>, <code>org.eclipse.net4j.util.lifecycle.IDeactivateable</code>, <code>org.eclipse.net4j.util.lifecycle.ILifecycle</code>, <code>org.eclipse.net4j.util.lifecycle.ILifecycle.DeferrableActivation</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PhasedModelEvolutionSupport</span>
<span class="extends-implements">extends org.eclipse.net4j.util.lifecycle.Lifecycle
implements <a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></span></div>
<div class="block">A <a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>phased</code></a> implementation of <a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution"><code>model evolution support</code></a> for DB stores.
 <p>
 Model evolution support is responsible for evolving the models stored in a DB store to match the currently
 registered EPackages.
 <p>
 This implementation is based on a phased approach. The following phases are supported:
 <p>
 <ol>
 <li><b>Change detection</b>: Detects model changes between the stored models and the currently registered EPackages.
 If no changes are detected, the model evolution process is aborted.</li>
 <li><b>Repository export</b>: Exports the repository data to a temporary location to prepare for schema migration.
 This phase is optional.</li>
 <li><b>Schema migration</b>: Evolves the database schema to match the new models. This includes updating the database
 schema, changing the container feature IDs in case of shifted features, and adjusting enum literals in case
 of changed enums. This phase is mandatory and ensures that the database schema is in sync with the new models.</li>
 <li><b>Store processing</b>: Performs any necessary post-processing on the DB store after schema migration.
 This phase is optional.</li>
 <li><b>Repository processing</b>: Performs any necessary post-processing on the repository after the DB store
 has been processed. This phase is optional.</li>
 </ol>
 <p>
 Each phase is handled by a dedicated <a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased"><code>phase handler</code></a>. Phase handlers can be
 configured via dependency injection (see <code>AnnotationFactory</code>). The Change Detection and Schema Migration
 phases must have a phase handler configured. If no phase handler is configured for these phases, a default implementation
 is used:
 <p>
 <ul>
 <li>Change Detection: <a href="DefaultChangeDetector.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>DefaultChangeDetector</code></a></li>
 <li>Schema Migration: <a href="DefaultSchemaMigrator.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>DefaultSchemaMigrator</code></a></li>
 </ul>
 <p>
 The Repository Export, Store Processing, and Repository Processing phases may be skipped if no phase handler
 is configured for them. The Repository Export phase is the only optional phase for which a default implementation
 exists: <a href="DefaultRepositoryExporter.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>DefaultRepositoryExporter</code></a>.
 <p>
 Each phase is triggered at a specific point during the activation of the DB store and the repository. There are
 two <a href="../IModelEvolutionSupport.Trigger.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution"><code>triggers</code></a>:
 <p>
 <ul>
 <li><a href="../IModelEvolutionSupport.Trigger.html#ActivatingStore"><code>ActivatingStore</code></a>:
 Triggered when the DB store is being activated by the <a href="../../../IRepository.html" title="interface in org.eclipse.emf.cdo.server"><code>IRepository</code></a>.
 This is the main trigger for model evolution. It only occurs when the store is restarted, i.e., not
 when the store is activated for the first time.</li>
 <li><a href="../IModelEvolutionSupport.Trigger.html#ActivatedRepository"><code>ActivatedRepository</code></a>:
 Triggered when the <a href="../../../IRepository.html" title="interface in org.eclipse.emf.cdo.server"><code>IRepository</code></a> has been fully activated.
 This trigger exists mainly for special purposes, e.g., to export repository models before the schema
 is upgraded.</li>
 </ul>
 <p>
 Phases can request a store or repository restart by returning the appropriate <a href="Phase.Transition.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>Phase.Transition</code></a>
 from their <a href="Phase.html#transitionTo(org.eclipse.emf.cdo.server.db.evolution.phased.Phase)"><code>transition</code></a> method.
 <p>
 The model evolution process can be configured via the <code>mode</code> attribute, which
 can be set to <code>migrate</code> (default), <code>prevent</code>, or <code>disabled</code>.
 In <code>migrate</code> mode, model changes are automatically evolved. In <code>prevent</code> mode,
 an exception is thrown if model changes are detected. In <code>disabled</code> mode,
 model evolution is skipped entirely.
 <p>
 The model evolution process stores its state in a dedicated root folder, which can be configured
 via the <code>rootFolder</code> attribute. The root folder contains an <code>evolution.properties</code> file
 storing the current evolution ID and phase, as well as dedicated evolution folders for each
 evolution process. Each evolution folder is named after the evolution ID and contains
 the exported models and an optional evolution log. The <a href="DefaultRepositoryExporter.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased"><code>DefaultRepositoryExporter</code></a> stores
 the repository export file in the evolution folder during the Repository Export phase.
 <p>
 The model evolution context, which contains the models to be evolved and other relevant information,
 is persisted in the evolution folder after the Change Detection phase. If the model evolution process
 is interrupted, it can be resumed from the persisted context. Manual inspection of the evolution folder
 may help diagnosing issues during model evolution or recovering from failures. The context is managed
 by a <a href="Context.Manager.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased"><code>context manager</code></a>, which can be configured via dependency injection.
 <p>
 The phases and their handlers fire various events during the model evolution process.
 Clients can register <code>listeners</code> with the model evolution support to be notified
 about these events and to monitor or impact the evolution process. Registering a <code>LogListener</code>
 will log all evolution events to the logging system and helps to understand the evolution process.
 <p>
 Example configuration snippet:
 <pre>
 &lt;store type="db"&gt;
   ...
   &lt;modelEvolutionSupport type="phased" rootFolder="@state/evolution" mode="migrate"&gt;
     &lt;<contextManager type="folder" saveNewModels="true"/>
     &lt;changeDetector/&gt;
     &lt;repositoryExporter type="default" binary="false"/&gt;
     &lt;schemaMigrator/&gt;
     &lt;storeProcessor type="my-sql-processor" myExtraArg="data"/&gt;
     &lt;repositoryProcessor type="my-eobject-handler" myExtraArg="data"/&gt; --&gt;
     &lt;!-- Optional listeners --&gt;
     &lt;listener type="log"/&gt;
     &lt;listener type="my-extra-checks"/&gt;
   &lt;/modelEvolutionSupport&gt;
   ...
 &lt;/store&gt;
 </pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.14</dd>
<dt>Author:</dt>
<dd>Eike Stepper</dd>
<dt>No Implement</dt>
<dd>This package is currently considered <i>provisional</i>.</dd>
<dt>No Extend</dt>
<dd>This package is currently considered <i>provisional</i>.</dd>
<dt>No Reference</dt>
<dd>This package is currently considered <i>provisional</i>.</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="PhasedModelEvolutionSupport.Mode.html" class="type-name-link" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">PhasedModelEvolutionSupport.Mode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicates the model evolution mode.</div>
</div>
</div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.eclipse.net4j.util.event.Notifier">Nested classes/interfaces inherited from class&nbsp;org.eclipse.net4j.util.event.Notifier</h2>
<code>org.eclipse.net4j.util.event.Notifier.Cancelation</code></div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.eclipse.net4j.util.lifecycle.ILifecycle">Nested classes/interfaces inherited from interface&nbsp;org.eclipse.net4j.util.lifecycle.ILifecycle</h2>
<code>org.eclipse.net4j.util.lifecycle.ILifecycle.DeferrableActivation</code></div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.eclipse.emf.cdo.server.db.evolution.IModelEvolutionSupport">Nested classes/interfaces inherited from interface&nbsp;org.eclipse.emf.cdo.server.db.evolution.<a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></h2>
<code><a href="../IModelEvolutionSupport.Trigger.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport.Trigger</a></code></div>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.eclipse.net4j.util.event.INotifier">Nested classes/interfaces inherited from interface&nbsp;org.eclipse.net4j.util.event.INotifier</h2>
<code>org.eclipse.net4j.util.event.INotifier.INotifier2</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#FACTORY_TYPE" class="member-name-link">FACTORY_TYPE</a></code></div>
<div class="col-last even-row-color">
<div class="block">The factory type of the default model evolution support implementation.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.eclipse.net4j.util.lifecycle.Lifecycle">Fields inherited from class&nbsp;org.eclipse.net4j.util.lifecycle.Lifecycle</h3>
<code>USE_LABEL</code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.eclipse.emf.cdo.server.db.evolution.IModelEvolutionSupport">Fields inherited from interface&nbsp;org.eclipse.emf.cdo.server.db.evolution.<a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></h3>
<code><a href="../IModelEvolutionSupport.html#PRODUCT_GROUP">PRODUCT_GROUP</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">PhasedModelEvolutionSupport</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a model evolution support.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addedChangeInfo(org.eclipse.emf.cdo.server.db.evolution.phased.Context.Model,java.lang.Object)" class="member-name-link">addedChangeInfo</a><wbr>(<a href="Context.Model.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Model</a>&nbsp;model,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;changeInfo)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called after a change info has been added to the evolution context.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#determineNextPhase()" class="member-name-link">determineNextPhase</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines the next phase to execute, skipping any phases without a handler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doActivate()" class="member-name-link">doActivate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doBeforeActivate()" class="member-name-link">doBeforeActivate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doDeactivate()" class="member-name-link">doDeactivate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executePhaseHandler(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">executePhaseHandler</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;phaseHandler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Executes the given phase handler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executePhaseLoop()" class="member-name-link">executePhaseLoop</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Executes the phase loop until completion or until a restart is requested.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Context.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased">Context</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getContext()" class="member-name-link">getContext</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current evolution context.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Context.Manager.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Manager</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getContextManager()" class="member-name-link">getContextManager</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the context manager used to create, load, and save evolution contexts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentPhaseHandler()" class="member-name-link">getCurrentPhaseHandler</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the handler for the current phase, throwing an exception if none is set.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEvolutionFolder()" class="member-name-link">getEvolutionFolder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the evolution folder for the current evolution ID, or <code>null</code> if the evolution ID is less than 1.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEvolutionID()" class="member-name-link">getEvolutionID</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current evolution ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEvolutionLog()" class="member-name-link">getEvolutionLog</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PhasedModelEvolutionSupport.Mode.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">PhasedModelEvolutionSupport.Mode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMode()" class="member-name-link">getMode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the model evolution mode.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../spi/common/model/InternalCDOPackageRegistry.html" title="interface in org.eclipse.emf.cdo.spi.common.model">InternalCDOPackageRegistry</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNewPackageRegistry()" class="member-name-link">getNewPackageRegistry</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the new package registry used for determining the new EPackages.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../spi/common/model/InternalCDOPackageRegistry.html" title="interface in org.eclipse.emf.cdo.spi.common.model">InternalCDOPackageRegistry</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOldPackageRegistry()" class="member-name-link">getOldPackageRegistry</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the old package registry used for recreating the old EPackages.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPhase()" class="member-name-link">getPhase</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current evolution phase.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPhaseHandler(org.eclipse.emf.cdo.server.db.evolution.phased.Phase)" class="member-name-link">getPhaseHandler</a><wbr>(<a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a>&nbsp;phase)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the phase handler for the given phase, or <code>null</code> if none is set.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRootFolder()" class="member-name-link">getRootFolder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the root folder where evolution data is stored.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../IDBStore.html" title="interface in org.eclipse.emf.cdo.server.db">IDBStore</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStore()" class="member-name-link">getStore</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the DB store this model evolution support is associated with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPhaseOngoing()" class="member-name-link">isPhaseOngoing</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns whether the current phase is ongoing.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#log(java.lang.Object)" class="member-name-link">log</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Logs the given message to the evolution log.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setChangeDetector(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">setChangeDetector</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;changeDetector)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the change detection phase handler.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setContextManager(org.eclipse.emf.cdo.server.db.evolution.phased.Context.Manager)" class="member-name-link">setContextManager</a><wbr>(<a href="Context.Manager.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Manager</a>&nbsp;contextManager)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the context manager used to create, load, and save evolution contexts.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMode(org.eclipse.emf.cdo.server.db.evolution.phased.PhasedModelEvolutionSupport.Mode)" class="member-name-link">setMode</a><wbr>(<a href="PhasedModelEvolutionSupport.Mode.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">PhasedModelEvolutionSupport.Mode</a>&nbsp;mode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the model evolution mode.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRepositoryExporter(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">setRepositoryExporter</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;repositoryExporter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the repository export phase handler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRepositoryPostProcessor(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">setRepositoryPostProcessor</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;repositoryProcessor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the repository post-processing phase handler.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRootFolder(java.io.File)" class="member-name-link">setRootFolder</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;rootFolder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the root folder where evolution data is stored.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSchemaMigrator(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">setSchemaMigrator</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;schemaMigrator)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the schema migration phase handler.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStore(org.eclipse.emf.cdo.server.db.IDBStore)" class="member-name-link">setStore</a><wbr>(<a href="../../IDBStore.html" title="interface in org.eclipse.emf.cdo.server.db">IDBStore</a>&nbsp;store)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the DB store this model evolution support is associated with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStorePostProcessor(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)" class="member-name-link">setStorePostProcessor</a><wbr>(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;storeProcessor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the store post-processing phase handler.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#trigger(org.eclipse.emf.cdo.server.db.evolution.IModelEvolutionSupport.Trigger)" class="member-name-link">trigger</a><wbr>(<a href="../IModelEvolutionSupport.Trigger.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport.Trigger</a>&nbsp;trigger)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Evolves the models stored in the given DB store to match the currently registered <code>EPackages</code>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.eclipse.net4j.util.lifecycle.Lifecycle">Methods inherited from class&nbsp;org.eclipse.net4j.util.lifecycle.Lifecycle</h3>
<code>activate, checkActive, checkArg, checkArg, checkInactive, checkNull, checkState, checkState, deactivate, deferredActivate, doAfterActivate, doBeforeDeactivate, dump, getLifecycleState, isActive, isDeferredActivation, toString</code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.eclipse.net4j.util.event.Notifier">Methods inherited from class&nbsp;org.eclipse.net4j.util.event.Notifier</h3>
<code>addListener, addUniqueListener, fireEvent, fireEvent, fireEvent, fireThrowable, firstListenerAdded, getListeners, getNotificationService, hasListener, hasListeners, lastListenerRemoved, listenerAdded, listenerRemoved, removeListener</code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.eclipse.net4j.util.lifecycle.ILifecycle">Methods inherited from interface&nbsp;org.eclipse.net4j.util.lifecycle.ILifecycle</h3>
<code>activate, deactivate, getLifecycleState, isActive</code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.eclipse.net4j.util.event.INotifier">Methods inherited from interface&nbsp;org.eclipse.net4j.util.event.INotifier</h3>
<code>addListener, getListeners, hasListeners, removeListener</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="FACTORY_TYPE">
<h3>FACTORY_TYPE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">FACTORY_TYPE</span></div>
<div class="block">The factory type of the default model evolution support implementation.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../../../constant-values.html#org.eclipse.emf.cdo.server.db.evolution.phased.PhasedModelEvolutionSupport.FACTORY_TYPE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>PhasedModelEvolutionSupport</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PhasedModelEvolutionSupport</span>()</div>
<div class="block">Creates a model evolution support.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getRootFolder()">
<h3>getRootFolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">getRootFolder</span>()</div>
<div class="block">Returns the root folder where evolution data is stored.
 <p>
 The root folder contains the evolution properties file and dedicated evolution folders
 for each evolution process.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getEvolutionFolder()"><code>getEvolutionFolder()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRootFolder(java.io.File)">
<h3>setRootFolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRootFolder</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;rootFolder)</span></div>
<div class="block">Sets the root folder where evolution data is stored.</div>
</section>
</li>
<li>
<section class="detail" id="getStore()">
<h3>getStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../IDBStore.html" title="interface in org.eclipse.emf.cdo.server.db">IDBStore</a></span>&nbsp;<span class="element-name">getStore</span>()</div>
<div class="block">Returns the DB store this model evolution support is associated with.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IModelEvolutionSupport.html#getStore()">getStore</a></code>&nbsp;in interface&nbsp;<code><a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStore(org.eclipse.emf.cdo.server.db.IDBStore)">
<h3>setStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStore</span><wbr><span class="parameters">(<a href="../../IDBStore.html" title="interface in org.eclipse.emf.cdo.server.db">IDBStore</a>&nbsp;store)</span></div>
<div class="block">Sets the DB store this model evolution support is associated with.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IModelEvolutionSupport.html#setStore(org.eclipse.emf.cdo.server.db.IDBStore)">setStore</a></code>&nbsp;in interface&nbsp;<code><a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></code></dd>
<dt>No Reference</dt>
<dd>This method is not intended to be called by clients.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMode()">
<h3>getMode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PhasedModelEvolutionSupport.Mode.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">PhasedModelEvolutionSupport.Mode</a></span>&nbsp;<span class="element-name">getMode</span>()</div>
<div class="block">Returns the model evolution mode.</div>
</section>
</li>
<li>
<section class="detail" id="setMode(org.eclipse.emf.cdo.server.db.evolution.phased.PhasedModelEvolutionSupport.Mode)">
<h3>setMode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMode</span><wbr><span class="parameters">(<a href="PhasedModelEvolutionSupport.Mode.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">PhasedModelEvolutionSupport.Mode</a>&nbsp;mode)</span></div>
<div class="block">Sets the model evolution mode.</div>
</section>
</li>
<li>
<section class="detail" id="getContextManager()">
<h3>getContextManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Context.Manager.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Manager</a></span>&nbsp;<span class="element-name">getContextManager</span>()</div>
<div class="block">Returns the context manager used to create, load, and save evolution contexts.</div>
</section>
</li>
<li>
<section class="detail" id="setContextManager(org.eclipse.emf.cdo.server.db.evolution.phased.Context.Manager)">
<h3>setContextManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setContextManager</span><wbr><span class="parameters">(<a href="Context.Manager.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Manager</a>&nbsp;contextManager)</span></div>
<div class="block">Sets the context manager used to create, load, and save evolution contexts.</div>
</section>
</li>
<li>
<section class="detail" id="getPhaseHandler(org.eclipse.emf.cdo.server.db.evolution.phased.Phase)">
<h3>getPhaseHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a></span>&nbsp;<span class="element-name">getPhaseHandler</span><wbr><span class="parameters">(<a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a>&nbsp;phase)</span></div>
<div class="block">Returns the phase handler for the given phase, or <code>null</code> if none is set.</div>
</section>
</li>
<li>
<section class="detail" id="setChangeDetector(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>setChangeDetector</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setChangeDetector</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;changeDetector)</span></div>
<div class="block">Sets the change detection phase handler.</div>
</section>
</li>
<li>
<section class="detail" id="setRepositoryExporter(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>setRepositoryExporter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRepositoryExporter</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;repositoryExporter)</span></div>
<div class="block">Sets the repository export phase handler.</div>
</section>
</li>
<li>
<section class="detail" id="setSchemaMigrator(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>setSchemaMigrator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSchemaMigrator</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;schemaMigrator)</span></div>
<div class="block">Sets the schema migration phase handler.</div>
</section>
</li>
<li>
<section class="detail" id="setStorePostProcessor(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>setStorePostProcessor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStorePostProcessor</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;storeProcessor)</span></div>
<div class="block">Sets the store post-processing phase handler.</div>
</section>
</li>
<li>
<section class="detail" id="setRepositoryPostProcessor(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>setRepositoryPostProcessor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRepositoryPostProcessor</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;repositoryProcessor)</span></div>
<div class="block">Sets the repository post-processing phase handler.</div>
</section>
</li>
<li>
<section class="detail" id="getPhase()">
<h3>getPhase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a></span>&nbsp;<span class="element-name">getPhase</span>()</div>
<div class="block">Returns the current evolution phase.</div>
</section>
</li>
<li>
<section class="detail" id="isPhaseOngoing()">
<h3>isPhaseOngoing</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPhaseOngoing</span>()</div>
<div class="block">Returns whether the current phase is ongoing.</div>
</section>
</li>
<li>
<section class="detail" id="getEvolutionID()">
<h3>getEvolutionID</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getEvolutionID</span>()</div>
<div class="block">Returns the current evolution ID.
 <p>
 The evolution ID is incremented each time a model evolution process is successfully completed.
 It starts at 0 for a new repository and is stored in the evolution properties file.
 <p>
 The evolution ID is used to create a dedicated evolution folder under the root folder
 for each evolution process.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getEvolutionFolder()"><code>getEvolutionFolder()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEvolutionFolder()">
<h3>getEvolutionFolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">getEvolutionFolder</span>()</div>
<div class="block">Returns the evolution folder for the current evolution ID, or <code>null</code> if the evolution ID is less than 1.
 <p>
 The evolution folder is a subfolder of the root folder named after the evolution ID.
 It contains the models properties file and the exported models
 for the corresponding evolution process.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getRootFolder()"><code>getRootFolder()</code></a></li>
<li><a href="#getEvolutionID()"><code>getEvolutionID()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEvolutionLog()">
<h3>getEvolutionLog</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">getEvolutionLog</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getContext()">
<h3>getContext</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Context.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased">Context</a></span>&nbsp;<span class="element-name">getContext</span>()</div>
<div class="block">Returns the current evolution context.
 <p>
 The evolution context contains the models to be evolved and other relevant information
 for the model evolution process.</div>
</section>
</li>
<li>
<section class="detail" id="getOldPackageRegistry()">
<h3>getOldPackageRegistry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../spi/common/model/InternalCDOPackageRegistry.html" title="interface in org.eclipse.emf.cdo.spi.common.model">InternalCDOPackageRegistry</a></span>&nbsp;<span class="element-name">getOldPackageRegistry</span>()</div>
<div class="block">Returns the old package registry used for recreating the old EPackages.</div>
</section>
</li>
<li>
<section class="detail" id="getNewPackageRegistry()">
<h3>getNewPackageRegistry</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../spi/common/model/InternalCDOPackageRegistry.html" title="interface in org.eclipse.emf.cdo.spi.common.model">InternalCDOPackageRegistry</a></span>&nbsp;<span class="element-name">getNewPackageRegistry</span>()</div>
<div class="block">Returns the new package registry used for determining the new EPackages.</div>
</section>
</li>
<li>
<section class="detail" id="log(java.lang.Object)">
<h3>log</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">log</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;message)</span></div>
<div class="block">Logs the given message to the evolution log.
 <p>
 Can be used by phases and handlers to log messages during model evolution.
 <p>
 The evolution log is typically located in the <a href="#getEvolutionFolder()"><code>evolution folder</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="trigger(org.eclipse.emf.cdo.server.db.evolution.IModelEvolutionSupport.Trigger)">
<h3>trigger</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">trigger</span><wbr><span class="parameters">(<a href="../IModelEvolutionSupport.Trigger.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport.Trigger</a>&nbsp;trigger)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Evolves the models stored in the given DB store to match the currently registered <code>EPackages</code>.
 <p>
 The evolution process is triggered by the given <a href="../IModelEvolutionSupport.Trigger.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution"><code>trigger</code></a>.
 Depending on the current phase of the evolution process, the appropriate phase handler is executed.
 <p>
 If the evolution mode is set to <a href="PhasedModelEvolutionSupport.Mode.html#Disabled"><code>PhasedModelEvolutionSupport.Mode.Disabled</code></a>, the evolution process is skipped.
 <p>
 If the evolution mode is set to <a href="PhasedModelEvolutionSupport.Mode.html#Prevent"><code>PhasedModelEvolutionSupport.Mode.Prevent</code></a> and model changes are detected,
 an exception is thrown.
 <p>
 If the evolution mode is set to <a href="PhasedModelEvolutionSupport.Mode.html#Migrate"><code>PhasedModelEvolutionSupport.Mode.Migrate</code></a>, the evolution process is executed
 phase by phase until completion.
 <p>
 If a phase handler requests a store or repository restart, a <code>LifecycleUtil.ReactivationTrigger</code>
 is thrown to signal the need for a restart.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IModelEvolutionSupport.html#trigger(org.eclipse.emf.cdo.server.db.evolution.IModelEvolutionSupport.Trigger)">trigger</a></code>&nbsp;in interface&nbsp;<code><a href="../IModelEvolutionSupport.html" title="interface in org.eclipse.emf.cdo.server.db.evolution">IModelEvolutionSupport</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executePhaseLoop()">
<h3>executePhaseLoop</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">executePhaseLoop</span>()
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>,
org.eclipse.net4j.util.lifecycle.LifecycleUtil.ReactivationTrigger</span></div>
<div class="block">Executes the phase loop until completion or until a restart is requested.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
<dd><code>org.eclipse.net4j.util.lifecycle.LifecycleUtil.ReactivationTrigger</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executePhaseHandler(org.eclipse.emf.cdo.server.db.evolution.phased.Phase.Handler)">
<h3>executePhaseHandler</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">executePhaseHandler</span><wbr><span class="parameters">(<a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a>&nbsp;phaseHandler)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Executes the given phase handler.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="determineNextPhase()">
<h3>determineNextPhase</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Phase.html" title="enum class in org.eclipse.emf.cdo.server.db.evolution.phased">Phase</a></span>&nbsp;<span class="element-name">determineNextPhase</span>()</div>
<div class="block">Determines the next phase to execute, skipping any phases without a handler.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the next phase to execute, or <code>null</code> if there are no more phases left to execute.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentPhaseHandler()">
<h3>getCurrentPhaseHandler</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Phase.Handler.html" title="interface in org.eclipse.emf.cdo.server.db.evolution.phased">Phase.Handler</a></span>&nbsp;<span class="element-name">getCurrentPhaseHandler</span>()</div>
<div class="block">Returns the handler for the current phase, throwing an exception if none is set.</div>
</section>
</li>
<li>
<section class="detail" id="addedChangeInfo(org.eclipse.emf.cdo.server.db.evolution.phased.Context.Model,java.lang.Object)">
<h3>addedChangeInfo</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addedChangeInfo</span><wbr><span class="parameters">(<a href="Context.Model.html" title="class in org.eclipse.emf.cdo.server.db.evolution.phased">Context.Model</a>&nbsp;model,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;changeInfo)</span></div>
<div class="block">Called after a change info has been added to the evolution context.
 <p>
 Can be used by phases and handlers to notify listeners about added change infos.
 <p>
 Subclasses may override.</div>
</section>
</li>
<li>
<section class="detail" id="doBeforeActivate()">
<h3>doBeforeActivate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doBeforeActivate</span>()
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>doBeforeActivate</code>&nbsp;in class&nbsp;<code>org.eclipse.net4j.util.lifecycle.Lifecycle</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doActivate()">
<h3>doActivate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doActivate</span>()
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>doActivate</code>&nbsp;in class&nbsp;<code>org.eclipse.net4j.util.lifecycle.Lifecycle</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doDeactivate()">
<h3>doDeactivate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doDeactivate</span>()
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code>doDeactivate</code>&nbsp;in class&nbsp;<code>org.eclipse.net4j.util.lifecycle.Lifecycle</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i class="copyright">Copyright (c) 2004-2025 Eike Stepper (Loehne, Germany) and others.<br>All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License 2.0 which is available at https://www.eclipse.org/legal/epl-2.0</i></small></p>
</footer>
</div>
</div>
</body>
</html>
